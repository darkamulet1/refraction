{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "refraction_core_bundle_spec_v1",
  "type": "object",
  "required": ["meta", "person", "config_echo", "frames"],
  "properties": {
    "meta": {
      "type": "object",
      "required": ["schema_version"],
      "properties": {
        "schema_version": {
          "type": "string",
          "const": "refraction_core_bundle_spec_v1"
        },
        "timestamp_utc": { "type": ["string", "null"] },
        "engine": { "type": "object" }
      },
      "additionalProperties": true
    },
    "person": {
      "type": "object",
      "properties": {
        "id": { "type": ["string", "null"] },
        "label": { "type": ["string", "null"] }
      },
      "additionalProperties": true
    },
    "config_echo": {
      "type": "object",
      "additionalProperties": true
    },
    "frames": {
      "type": "object",
      "required": [
        "core_chart",
        "panchanga",
        "dashas_vimshottari",
        "strengths"
      ],
      "properties": {
        "core_chart": { "type": "object" },
        "panchanga": { "type": "object" },
        "dashas_vimshottari": { "type": "object" },
        "strengths": { "type": "object" }
      },
      "additionalProperties": true
    }
  },
  "additionalProperties": false
}
